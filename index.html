<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Vistoria de Frota - UNGEF</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.1/dist/browser-image-compression.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registrado com sucesso:', registration);
                    })
                    .catch(error => {
                        console.log('Falha ao registrar Service Worker:', error);
                    });
            });
        }
    </script>
</head>

<body>
    <div class="container">
        <header>
            <img src="assets/Brasao1.png" alt="Brasão GDF" class="logo">
            <h2>GOVERNO DO DISTRITO FEDERAL</h2>
            <p>SECRETARIA DE ESTADO DE ECONOMIA - SEEC</p>
            <p>UNIDADE DE GESTÃO DE FROTA - UNGEF</p>
            <h1>Checklist - UNGEF</h1>
            <canvas id="brasaoCanvas" style="display: none;"></canvas>
        </header>

        <form id="checklistForm">
            <fieldset class="form-section">
                <legend>Tipo de Operação</legend>
                <div class="radio-group-inline">
                    <label><input type="radio" name="tipoOperacao" value="Entrega" required> Entrega</label>
                    <label><input type="radio" name="tipoOperacao" value="Recebimento" required> Recebimento</label>
                    <label><input type="radio" name="tipoOperacao" value="Vistoria" required> Vistoria</label>
                    <label><input type="radio" name="tipoOperacao" value="Sinistro" required> Sinistro</label>
                </div>
            </fieldset>

            <div class="form-section grid-2-col">
                <div class="form-group">
                    <label for="marca-select">Marca:</label>
                    <div class="select-wrapper">
                        <select id="marca-select" name="marca" class="uppercase-input"></select>
                    </div>
                    <input type="text" id="marca-outro" name="marca-outro" class="uppercase-input outro-input"
                        placeholder="Digite a marca aqui" style="display: none;">
                </div>
                <div class="form-group">
                    <label for="modelo-select">Modelo:</label>
                    <div class="select-wrapper">
                        <select id="modelo-select" name="modelo" class="uppercase-input" disabled></select>
                    </div>
                    <input type="text" id="modelo-outro" name="modelo-outro" class="uppercase-input outro-input"
                        placeholder="Digite o modelo" style="display: none;">

                </div>
                <div class="form-group">
                    <div class="label-with-toggle">
                        <label for="placa">Placa:</label>

                        <div class="toggle-container">
                            <span class="toggle-label"></span>
                            <label class="switch">
                                <input type="checkbox" id="tipoPlacaSwitch" checked>
                                <span class="slider round"></span>
                            </label>
                            <span class="toggle-label">MERCOSUL</span>
                        </div>
                    </div>
                    <input type="text" id="placa" name="placa" required class="uppercase-input" placeholder=""
                        maxlength="7">
                    
                </div>
                <div class="form-group">
                    <label for="orgao-select">Órgão:</label>
                    <div class="select-wrapper">
                        <select id="orgao-select" name="orgao-select" class="uppercase-input">
                            <option value="">Selecione...</option>
                            <option value="AGEFIS">AGEFIS</option>
                            <option value="ARPDF">ARPDF</option>
                            <option value="CAESB">CAESB</option>
                            <option value="CACI">CACI</option>
                            <option value="CEB">CEB</option>
                            <option value="CMDF">CMDF</option>
                            <option value="CODHAB">CODHAB</option>
                            <option value="DER">DER</option>
                            <option value="DF LEGAL">DF LEGAL</option>
                            <option value="DPDF">DPDF</option>
                            <option value="EMATER">EMATER</option>
                            <option value="FAPDF">FAPDF</option>
                            <option value="FJZB">FJZB</option>
                            <option value="FUNAP">FUNAP</option>
                            <option value="IBRAM">IBRAM</option>
                            <option value="IDEP">IDEP</option>
                            <option value="IPEDF">IPEDF</option>
                            <option value="IPREV-DF">IPREV-DF</option>
                            <option value="JBB">JBB</option>
                            <option value="NOVACAP">NOVACAP</option>
                            <option value="PGDF">PGDF</option>
                            <option value="PROCON">PROCON</option>
                            <option value="SEAGRI-DF">SEAGRI-DF</option>
                            <option value="RA-I ADM. REG. DO PLANO PILOTO">RA-I ADM.REG. DO PLANO PILOTO</option>
                            <option value="RA-II ADM. REG. DO GAMA">RA-II ADM. REG. DO GAMA</option>
                            <option value="RA-III ADM. REG. DE TAGUATINGA">RA-III ADM. REG. DE TAGUATINGA</option>
                            <option value="RA-IV ADM. REG. DE BRAZLANDIA">RA-IV ADM. REG. DE BRAZLANDIA</option>
                            <option value="RA-V ADM. REG. SOBRADINHO">RA-V ADM. REG. SOBRADINHO</option>
                            <option value="RA-VI ADM. REG. DE PLANALTINA">RA-VI ADM. REG. DE PLANALTINA</option>
                            <option value="RA-VII ADM. REG. DO PARANOA">RA-VII ADM. REG. DO PARANOA</option>
                            <option value="RA-VIII ADM. REG. NUCLEO BANDEIRANTE">RA-VIII ADM. REG. NUCLEO BANDEIRANTE
                            </option>
                            <option value="RA-IX ADM. REG. DE CEILANDIA">RA-IX ADM. REG. DE CEILANDIA</option>
                            <option value="RA-X ADM. REG. DO GUARA">RA-X ADM. REG. DO GUARA</option>
                            <option value="RA-XI ADM. REG. DO CRUZEIRO">RA-XI ADM. REG. DO CRUZEIRO</option>
                            <option value="RA-XII ADM. REG. DE SAMAMBAIA">RA-XII ADM. REG. DE SAMAMBAIA</option>
                            <option value="RA-XIII ADM. REG. DE SANTA MARIA">RA-XIII ADM. REG. DE SANTA MARIA</option>
                            <option value="RA-XIV ADM. REG. DE SAO SEBASTIAO">RA-XIV ADM. REG. DE SAO SEBASTIAO</option>
                            <option value="RA-XV ADM. REG. RECANTO DAS EMAS">RA-XV ADM. REG. RECANTO DAS EMAS</option>
                            <option value="RA-XVI ADM. REG. DO LAGO SUL">RA-XVI ADM. REG. DO LAGO SUL</option>
                            <option value="RA-XVII ADM. REG. RIACHO FUNDO I">RA-XVII ADM. REG. RIACHO FUNDO I</option>
                            <option value="RA-XVIII ADM. REG. DO LAGO NORTE">RA-XVIII ADM. REG. DO LAGO NORTE</option>
                            <option value="RA-XIX ADM. REG. DE CANDANGOLANDIA">RA-XIX ADM. REG. DE CANDANGOLANDIA
                            </option>
                            <option value="RA-XX ADM. REG. DE AGUAS CLARAS">RA-XX ADM. REG. DE AGUAS CLARAS</option>
                            <option value="RA-XXI ADM. REG. RIACHO FUNDO II">RA-XXI ADM. REG. RIACHO FUNDO II</option>
                            <option value="RA-XXII ADM. REG. DO SUDOESTE/OCTOGONAL">RA-XXII ADM. REG. DO
                                SUDOESTE/OCTOGONAL</option>
                            <option value="RA-XXIII ADM. REG. DO VARJAO">RA-XXIII ADM. REG. DO VARJAO</option>
                            <option value="RA-XXIV ADM. REG. DO PARK WAY">RA-XXIV ADM. REG. DO PARK WAY</option>
                            <option value="RA-XXV ADM. REG. DO SCIA E ESTRUTURAL">RA-XXV ADM. REG. DO SCIA E ESTRUTURAL
                            </option>
                            <option value="RA-XXVI ADM. REG. DE SOBRADINHO II">RA-XXVI ADM. REG. DE SOBRADINHO II
                            </option>
                            <option value="RA-XXVII ADM. REG. DO JARDIM BOTANICO">RA-XXVII ADM. REG. DO JARDIM BOTANICO
                            </option>
                            <option value="RA-XXVIII ADM. REG. DO ITAPOA">RA-XXVIII ADM. REG. DO ITAPOA</option>
                            <option value="RA-XXIX ADM. REG. DO SIA">RA-XXIX ADM. REG. DO SIA</option>
                            <option value="RA-XXX ADM. REG. DE VICENTE PIRES">RA-XXX ADM. REG. DE VICENTE PIRES</option>
                            <option value="RA-XXXI ADM. REG. DA FERCAL">RA-XXXI ADM. REG. DA FERCAL</option>
                            <option value="RA-XXXII ADM. REG. SOL NASCENTE/POR DO SOL">RA-XXXII ADM. REG. SOL
                                NASCENTE/POR DO SOL</option>
                            <option value="RA-XXXIII ADM. REG. ARNIQUEIRAS">RA-XXXIII ADM. REG. ARNIQUEIRAS</option>
                            <option value="RA-XXXIV ADM. REG. DE ARAPOANGA">RA-XXXIV ADM. REG. DE ARAPOANGA</option>
                            <option value="RA-XXXV ADM. REG. AGUA QUENTE">RA-XXXV ADM. REG. AGUA QUENTE</option>
                            <option value="SAB">SAB</option>
                            <option value="SAE">SAE</option>
                            <option value="SEAC">SEAC</option>
                            <option value="SEAGRI">SEAGRI</option>
                            <option value="SEAPE">SEAPE</option>
                            <option value="SECEC">SECEC</option>
                            <option value="SECOM">SECOM</option>
                            <option value="SECTI">SECTI</option>
                            <option value="SEDES">SEDES</option>
                            <option value="SEDET">SEDET</option>
                            <option value="SEDUH">SEDUH</option>
                            <option value="SEE">SEE</option>
                            <option value="SEEDE">SEEDE</option>
                            <option value="SEEMT">SEEMT</option>
                            <option value="SEF">SEF</option>
                            <option value="SEGOV">SEGOV</option>
                            <option value="SEJUS">SEJUS</option>
                            <option value="SEL">SEL</option>
                            <option value="SEMA">SEMA</option>
                            <option value="SEMOB">SEMOB</option>
                            <option value="SES">SES</option>
                            <option value="SETIC">SETIC</option>
                            <option value="SETUR">SETUR</option>
                            <option value="SLU">SLU</option>
                            <option value="SME">SME</option>
                            <option value="SODF">SODF</option>
                            <option value="SSP">SSP</option>
                            <option value="TCDF">TCDF</option>
                            <option value="TJDFT">TJDFT</option>
                            <option value="VGDF">VGDF</option>
                            <option value="outro">outro</option>
                        </select>
                    </div>
                    <input type="text" id="orgao-outro" name="orgao-outro" class="uppercase-input outro-input"
                        placeholder="Digite o nome do órgão" style="display: none;">
                </div>
                <div class="form-group">
                    <label for="odometro">Odômetro:</label>
                    <input type="number" id="odometro" name="odometro">
                </div>
                <div class="form-group">
                    <label for="dataHora">Data e Hora:</label>
                    <input type="datetime-local" id="dataHora" name="dataHora">
                </div>
            </div>

            <div class="form-section fuel-section">
                <div class="fuel-container">
                    <label for="combustivel">Nível de Combustível</label>

                    <div class="fuel-gauge-container">
                        <canvas id="fuelGaugeCanvas" width="200" height="120"></canvas>
                        <div class="fuel-info">
                            <span id="fuelPercentage">50%</span>
                            <span id="fuelDescription">Meio Tanque</span>
                        </div>
                    </div>

                    <div class="fuel-slider-container">
                        <input type="range" id="combustivel" name="combustivel" min="0" max="100" step="1" value="50"
                            class="fuel-slider">
                        <div class="fuel-markers">
                            <span>0%</span>
                            <span>25%</span>
                            <span>50%</span>
                            <span>75%</span>
                            <span>100%</span>
                        </div>
                    </div>

                    <div class="fuel-progress-bar">
                        <div id="fuelProgressFill" class="fuel-progress-fill"></div>
                    </div>

                    <div id="fuelAlert" class="fuel-alert" style="display: none;">
                        ⚠️ Atenção:combustível baixo!
                    </div>
                </div>
            </div>

            <div class="form-section grid-2-col">
                <fieldset>
                    <legend>Pneus Dianteiros</legend>
                    <div class="radio-group-inline">
                        <label><input type="radio" name="pneusDianteiros" value="Novo"> Novo</label>
                        <label><input type="radio" name="pneusDianteiros" value="Usado"> Usado</label>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Pneus Traseiros</legend>
                    <div class="radio-group-inline">
                        <label><input type="radio" name="pneusTraseiros" value="Novo"> Novo</label>
                        <label><input type="radio" name="pneusTraseiros" value="Usado"> Usado</label>
                    </div>
                </fieldset>
            </div>

            <fieldset class="form-section">
                <legend>Itens de Vistoria</legend>
                <div class="checklist-grid"></div>
            </fieldset>

            <div class="form-section">
                <div class="form-group">
                    <label for="observacoes">Danos ou Avarias do Veículo / Observações:</label>
                    <textarea id="observacoes" name="observacoes" rows="5" class="uppercase-input"></textarea>
                </div>
            </div>

            <div class="form-section">
                <label>Fotos de Avarias (Opcional):</label>
                <div class="form-group">
                    <input type="file" id="imageUpload" name="imageUpload" accept="image/*" multiple
                        style="display: none;">
                    <label for="imageUpload" class="upload-btn">Adicionar Foto</label>
                </div>
                <div id="image-previews" class="image-previews-container"></div>
            </div>

            <div class="form-section">
                <div class="form-group">
                    <label for="vistoriador-select">Vistoriador UNGEF:</label>
                    <div class="select-wrapper">
                        <select id="vistoriador-select" name="vistoriador-select" class="uppercase-input">
                            <option value="">Selecione...</option>
                            <option value="FRANCISCO">FRANCISCO</option>
                            <option value="THIAGO">THIAGO</option>
                            <option value="CLAUDIO">CLAUDIO</option>
                            <option value="GOMES">GOMES</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    <input type="text" id="vistoriador-outro" name="vistoriador-outro"
                        class="uppercase-input outro-input" placeholder="Digite o nome aqui" style="display: none;">
                </div>
                <div class="signature-pad-wrapper">
                    <canvas id="vistoriadorSignaturePad"></canvas>
                    <button type="button" class="clear-signature-btn"
                        data-target="vistoriadorSignaturePad">Limpar</button>
                </div>
            </div>

            <div class="form-section">
                <div class="form-group">
                    <label for="condutor">Condutor (Matrícula/Lotação):</label>
                    <input type="text" id="condutor" name="condutor" class="uppercase-input">
                </div>
                <div class="signature-pad-wrapper">
                    <canvas id="condutorSignaturePad"></canvas>
                    <button type="button" class="clear-signature-btn" data-target="condutorSignaturePad">Limpar</button>
                </div>
            </div>

            <div class="button-group">
                <button type="submit" id="generatePdfBtn" class="btn-submit">Gerar Checklist em PDF</button>
                <button type="button" id="clearFormBtn" class="btn-secondary">Limpar Formulário</button>
            </div>
        </form>
    </div>

    <canvas id="gauge-chart-canvas" width="200" height="100" style="display: none;"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
    <script src="scripts.js"></script>
</body>

</html>